(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4b95f6d4","chunk-001c2496"],{"0c73":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("page-header-wrapper",[n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"}},[n("a-row",{attrs:{gutter:48}},[n("a-col",{attrs:{md:5,sm:24}},[n("a-form-item",{attrs:{label:"选项分组"}},[n("a-select",{attrs:{placeholder:"请选择",options:t.options},on:{change:t.handleChange},model:{value:t.queryParam.optionGroup,callback:function(e){t.$set(t.queryParam,"optionGroup",e)},expression:"queryParam.optionGroup"}})],1)],1),n("a-col",{attrs:{md:4,sm:24}},[n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"right"}},[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:t.handleAdd}},[t._v("添加选项配置")])],1)])],1)],1)],1),n("option-form",{ref:"createModal",attrs:{visible:t.visible,loading:t.confirmLoading,model:t.mdl,options:t.options2},on:{cancel:t.handleCancel,ok:t.handleOk}}),n("a-table",{attrs:{columns:t.columns,"data-source":t.loadData,pagination:t.pagination,rowKey:"index",loading:t.loading},on:{change:t.handleTableChange},scopedSlots:t._u([{key:"status",fn:function(e){return n("span",{staticStyle:{color:"#007aff"}},[t._v(t._s(2==e?"已发布":"未发布"))])}},{key:"action",fn:function(e,o){return n("span",{},[n("a",{on:{click:function(e){return t.onEdit(o)}}},[t._v("编辑")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-popconfirm",{attrs:{title:"确定要删除该记录?"},on:{confirm:function(){return t.onDelete(o)}}},[n("a",{attrs:{href:"javascript:;"}},[t._v("删除")])])],1)}}])})],1)],1)},r=[],a=n("5530"),i=(n("159b"),n("0fea")),u=n("40d9"),s=[{title:"编号",dataIndex:"index"},{title:"选项名称",dataIndex:"optionKey"},{title:"选项值",dataIndex:"optionValue"},{title:"操作",dataIndex:"action",width:"150px",scopedSlots:{customRender:"action"}}],l={name:"OptionList",components:{OptionForm:u["default"]},data:function(){return this.columns=s,{visible:!1,confirmLoading:!1,mdl:null,queryParam:{pageIndex:1,pageSize:10,optionGroup:""},loadData:[],pagination:{showTotal:function(t){return"共".concat(t,"条记录")}},loading:!1,options:[{title:"全部",key:""},{title:"职位类型",key:"group.job.type"},{title:"灾害类型",key:"group.disaster.type"},{title:"灾害规模",key:"group.disaster.scale"}],options2:[{title:"职位类型",key:"group.job.type"},{title:"灾害类型",key:"group.disaster.type"},{title:"灾害规模",key:"group.disaster.scale"}]}},created:function(){this.getData()},computed:{},methods:{getData:function(){var t=this;this.loading=!0,Object(i["g"])(this.queryParam).then((function(e){if(1e4===e.code){t.loading=!1,e.data.forEach((function(t,e){t.index=e+1}));var n=Object(a["a"])({},t.pagination);n.total=e.totalNum,t.loadData=e.data,t.pagination=n}}))},handleTableChange:function(t,e,n){var o=Object(a["a"])({},this.pagination);o.current=t.current,this.pagination=o,this.queryParam.pageIndex=t.current,this.getData()},handleChange:function(t){this.queryParam.optionGroup=t,this.getData()},handleAdd:function(){this.mdl=null,this.visible=!0},onEdit:function(t){this.visible=!0,this.mdl={optionKey:t.optionKey,optionValue:t.optionValue,optionId:t.optionId,optionGroup:t.optionGroup}},handleOk:function(){var t=this,e=this.$refs.createModal.form;this.confirmLoading=!0,e.validateFields((function(n,o){n?t.confirmLoading=!1:o.optionId>0?Object(i["d"])(o).then((function(n){1e4===n.code?(t.visible=!1,t.confirmLoading=!1,e.resetFields(),t.getData(),t.$message.success("修改成功")):t.$message.error(n.info)})):(delete o.optionId,Object(i["a"])(o).then((function(n){1e4===n.code?(t.visible=!1,t.confirmLoading=!1,e.resetFields(),t.getData(),t.$message.success("添加成功")):t.$message.error(n.info)})))}))},handleCancel:function(){this.visible=!1;var t=this.$refs.createModal.form;t.resetFields()},onDelete:function(t){var e=this;Object(i["b"])({optionId:t.optionId}).then((function(t){1e4===t.code?(e.$message.success("删除成功！"),e.getData()):e.$message.error("删除失败！")}))}}},c=l,d=n("2877"),p=Object(d["a"])(c,o,r,!1,null,null,null);e["default"]=p.exports},"0fea":function(t,e,n){"use strict";n.d(e,"l",(function(){return i})),n.d(e,"n",(function(){return u})),n.d(e,"q",(function(){return s})),n.d(e,"p",(function(){return l})),n.d(e,"o",(function(){return c})),n.d(e,"f",(function(){return d})),n.d(e,"m",(function(){return p})),n.d(e,"e",(function(){return f})),n.d(e,"j",(function(){return m})),n.d(e,"g",(function(){return h})),n.d(e,"a",(function(){return b})),n.d(e,"c",(function(){return g})),n.d(e,"d",(function(){return v})),n.d(e,"b",(function(){return y})),n.d(e,"k",(function(){return j})),n.d(e,"i",(function(){return O})),n.d(e,"h",(function(){return w}));var o=n("b775"),r=n("0f22"),a={version:"/app/version/page/list",versionAdd:"/app/version/add",versionPublish:"/app/version/publish",versionModify:"/app/version/modify",versionDel:"/app/version/del",fileToken:"/minio/file/token",fileUpload:"/minio/file/upload",areaTree:"/area/code/tree",pointList:"/disaster/point/page/list",option:"/option/page/list",optionAdd:"/option/add",optionItems:"/option/items",optionModify:"/option/modify",optionDel:"/option/del",user:"/user",role:"/role",service:"/service",permission:"/permission",permissionNoPager:"/permission/no-pager",orgTree:"/org/tree"};function i(t){return Object(o["b"])({url:r["a"]+a.version,method:"post",data:t})}function u(t){return Object(o["b"])({url:r["a"]+a.versionAdd,method:"post",data:t})}function s(t){return Object(o["b"])({url:r["a"]+a.versionPublish,method:"post",data:t})}function l(t){return Object(o["b"])({url:r["a"]+a.versionModify,method:"post",data:t})}function c(t){return Object(o["b"])({url:r["a"]+a.versionDel,method:"post",data:t})}function d(t){return Object(o["b"])({url:r["a"]+a.fileToken,method:"post",data:t})}function p(t){return Object(o["b"])({url:r["a"]+a.fileUpload,method:"post",data:t,headers:{"Content-Type":"application/x-www-form-urlencoded"}})}function f(t){return Object(o["b"])({url:r["a"]+a.areaTree,method:"post",data:t})}function m(t){return Object(o["b"])({url:r["a"]+a.pointList,method:"post",data:t})}function h(t){return Object(o["b"])({url:r["a"]+a.option,method:"post",data:t})}function b(t){return Object(o["b"])({url:r["a"]+a.optionAdd,method:"post",data:t})}function g(t){return Object(o["b"])({url:r["a"]+a.optionItems,method:"post",data:t})}function v(t){return Object(o["b"])({url:r["a"]+a.optionModify,method:"post",data:t})}function y(t){return Object(o["b"])({url:r["a"]+a.optionDel,method:"post",data:t})}function j(t){return Object(o["c"])({url:a.role,method:"get",params:t})}function O(t){return Object(o["c"])({url:a.permissionNoPager,method:"get",params:t})}function w(t){return Object(o["c"])({url:a.orgTree,method:"get",params:t})}},"40d9":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a-modal",{attrs:{title:t.model&&t.model.optionId>0?"修改选项信息":"添加选项",width:640,visible:t.visible,confirmLoading:t.loading},on:{ok:function(){t.$emit("ok")},cancel:function(){t.$emit("cancel")}}},[n("a-spin",{attrs:{spinning:t.loading}},[n("a-form",t._b({attrs:{form:t.form}},"a-form",t.formLayout,!1),[n("a-form-item",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{label:"主键ID"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["optionId",{initialValue:0}],expression:"['optionId', { initialValue: 0 }]"}],attrs:{disabled:""}})],1),n("a-form-item",{attrs:{label:"选项分组"}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["optionGroup",{rules:[{required:!0,message:"请选择一项！"}]}],expression:"['optionGroup',{rules: [{required: true, message: '请选择一项！'}]}]"}],attrs:{placeholder:"请选择",options:t.options}})],1),n("a-form-item",{attrs:{label:"选项名称"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["optionKey",{rules:[{required:!0,min:1,message:"请输入选项名称！"}]}],expression:"['optionKey', {rules: [{required: true, min: 1, message: '请输入选项名称！'}]}]"}]})],1),n("a-form-item",{attrs:{label:"选项值"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["optionValue",{rules:[{required:!0,min:1,message:"请输入选项值！"}]}],expression:"['optionValue', {rules: [{required: true, min: 1, message: '请输入选项值！'}]}]"}]})],1)],1)],1)],1)},r=[],a=n("88bc"),i=n.n(a),u=(n("0fea"),["optionKey","optionValue","optionId","optionGroup"]),s={props:{visible:{type:Boolean,required:!0},loading:{type:Boolean,default:function(){return!1}},model:{type:Object,default:function(){return null}},options:{type:Array,required:!0}},data:function(){return this.formLayout={labelCol:{xs:{span:24},sm:{span:7}},wrapperCol:{xs:{span:24},sm:{span:13}}},{form:this.$form.createForm(this),uploading:!1}},created:function(){var t=this;u.forEach((function(e){return t.form.getFieldDecorator(e)})),this.$watch("model",(function(){t.model&&t.form.setFieldsValue(i()(t.model,u))}))},methods:{}},l=s,c=n("2877"),d=Object(c["a"])(l,o,r,!1,null,null,null);e["default"]=d.exports},"88bc":function(t,e,n){(function(e){var n=1/0,o=9007199254740991,r="[object Arguments]",a="[object Function]",i="[object GeneratorFunction]",u="[object Symbol]",s="object"==typeof e&&e&&e.Object===Object&&e,l="object"==typeof self&&self&&self.Object===Object&&self,c=s||l||Function("return this")();function d(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function p(t,e){var n=-1,o=t?t.length:0,r=Array(o);while(++n<o)r[n]=e(t[n],n,t);return r}function f(t,e){var n=-1,o=e.length,r=t.length;while(++n<o)t[r+n]=e[n];return t}var m=Object.prototype,h=m.hasOwnProperty,b=m.toString,g=c.Symbol,v=m.propertyIsEnumerable,y=g?g.isConcatSpreadable:void 0,j=Math.max;function O(t,e,n,o,r){var a=-1,i=t.length;n||(n=I),r||(r=[]);while(++a<i){var u=t[a];e>0&&n(u)?e>1?O(u,e-1,n,o,r):f(r,u):o||(r[r.length]=u)}return r}function w(t,e){return t=Object(t),k(t,e,(function(e,n){return n in t}))}function k(t,e,n){var o=-1,r=e.length,a={};while(++o<r){var i=e[o],u=t[i];n(u,i)&&(a[i]=u)}return a}function x(t,e){return e=j(void 0===e?t.length-1:e,0),function(){var n=arguments,o=-1,r=j(n.length-e,0),a=Array(r);while(++o<r)a[o]=n[e+o];o=-1;var i=Array(e+1);while(++o<e)i[o]=n[o];return i[e]=a,d(t,this,i)}}function I(t){return $(t)||q(t)||!!(y&&t&&t[y])}function D(t){if("string"==typeof t||_(t))return t;var e=t+"";return"0"==e&&1/t==-n?"-0":e}function q(t){return C(t)&&h.call(t,"callee")&&(!v.call(t,"callee")||b.call(t)==r)}var $=Array.isArray;function A(t){return null!=t&&P(t.length)&&!L(t)}function C(t){return G(t)&&A(t)}function L(t){var e=F(t)?b.call(t):"";return e==a||e==i}function P(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=o}function F(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function G(t){return!!t&&"object"==typeof t}function _(t){return"symbol"==typeof t||G(t)&&b.call(t)==u}var T=x((function(t,e){return null==t?{}:w(t,p(O(e,1),D))}));t.exports=T}).call(this,n("c8ba"))}}]);