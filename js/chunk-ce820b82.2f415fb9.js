(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ce820b82"],{"0fea":function(t,e,n){"use strict";n.d(e,"l",(function(){return i})),n.d(e,"n",(function(){return s})),n.d(e,"q",(function(){return l})),n.d(e,"p",(function(){return c})),n.d(e,"o",(function(){return u})),n.d(e,"f",(function(){return d})),n.d(e,"m",(function(){return p})),n.d(e,"e",(function(){return f})),n.d(e,"j",(function(){return m})),n.d(e,"g",(function(){return b})),n.d(e,"a",(function(){return v})),n.d(e,"c",(function(){return h})),n.d(e,"d",(function(){return y})),n.d(e,"b",(function(){return w})),n.d(e,"k",(function(){return g})),n.d(e,"i",(function(){return j})),n.d(e,"h",(function(){return x}));var a=n("b775"),r=n("0f22"),o={version:"/app/version/page/list",versionAdd:"/app/version/add",versionPublish:"/app/version/publish",versionModify:"/app/version/modify",versionDel:"/app/version/del",fileToken:"/minio/file/token",fileUpload:"/minio/file/upload",areaTree:"/area/code/tree",pointList:"/disaster/point/page/list",option:"/option/page/list",optionAdd:"/option/add",optionItems:"/option/items",optionModify:"/option/modify",optionDel:"/option/del",user:"/user",role:"/role",service:"/service",permission:"/permission",permissionNoPager:"/permission/no-pager",orgTree:"/org/tree"};function i(t){return Object(a["b"])({url:r["a"]+o.version,method:"post",data:t})}function s(t){return Object(a["b"])({url:r["a"]+o.versionAdd,method:"post",data:t})}function l(t){return Object(a["b"])({url:r["a"]+o.versionPublish,method:"post",data:t})}function c(t){return Object(a["b"])({url:r["a"]+o.versionModify,method:"post",data:t})}function u(t){return Object(a["b"])({url:r["a"]+o.versionDel,method:"post",data:t})}function d(t){return Object(a["b"])({url:r["a"]+o.fileToken,method:"post",data:t})}function p(t){return Object(a["b"])({url:r["a"]+o.fileUpload,method:"post",data:t,headers:{"Content-Type":"application/x-www-form-urlencoded"}})}function f(t){return Object(a["b"])({url:r["a"]+o.areaTree,method:"post",data:t})}function m(t){return Object(a["b"])({url:r["a"]+o.pointList,method:"post",data:t})}function b(t){return Object(a["b"])({url:r["a"]+o.option,method:"post",data:t})}function v(t){return Object(a["b"])({url:r["a"]+o.optionAdd,method:"post",data:t})}function h(t){return Object(a["b"])({url:r["a"]+o.optionItems,method:"post",data:t})}function y(t){return Object(a["b"])({url:r["a"]+o.optionModify,method:"post",data:t})}function w(t){return Object(a["b"])({url:r["a"]+o.optionDel,method:"post",data:t})}function g(t){return Object(a["c"])({url:o.role,method:"get",params:t})}function j(t){return Object(a["c"])({url:o.permissionNoPager,method:"get",params:t})}function x(t){return Object(a["c"])({url:o.orgTree,method:"get",params:t})}},"2a3c":function(t,e,n){},3911:function(t,e,n){"use strict";n("2a3c")},"88bc":function(t,e,n){(function(e){var n=1/0,a=9007199254740991,r="[object Arguments]",o="[object Function]",i="[object GeneratorFunction]",s="[object Symbol]",l="object"==typeof e&&e&&e.Object===Object&&e,c="object"==typeof self&&self&&self.Object===Object&&self,u=l||c||Function("return this")();function d(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function p(t,e){var n=-1,a=t?t.length:0,r=Array(a);while(++n<a)r[n]=e(t[n],n,t);return r}function f(t,e){var n=-1,a=e.length,r=t.length;while(++n<a)t[r+n]=e[n];return t}var m=Object.prototype,b=m.hasOwnProperty,v=m.toString,h=u.Symbol,y=m.propertyIsEnumerable,w=h?h.isConcatSpreadable:void 0,g=Math.max;function j(t,e,n,a,r){var o=-1,i=t.length;n||(n=_),r||(r=[]);while(++o<i){var s=t[o];e>0&&n(s)?e>1?j(s,e-1,n,a,r):f(r,s):a||(r[r.length]=s)}return r}function x(t,e){return t=Object(t),O(t,e,(function(e,n){return n in t}))}function O(t,e,n){var a=-1,r=e.length,o={};while(++a<r){var i=e[a],s=t[i];n(s,i)&&(o[i]=s)}return o}function C(t,e){return e=g(void 0===e?t.length-1:e,0),function(){var n=arguments,a=-1,r=g(n.length-e,0),o=Array(r);while(++a<r)o[a]=n[e+a];a=-1;var i=Array(e+1);while(++a<e)i[a]=n[a];return i[e]=o,d(t,this,i)}}function _(t){return S(t)||R(t)||!!(w&&t&&t[w])}function k(t){if("string"==typeof t||D(t))return t;var e=t+"";return"0"==e&&1/t==-n?"-0":e}function R(t){return I(t)&&b.call(t,"callee")&&(!y.call(t,"callee")||v.call(t)==r)}var S=Array.isArray;function F(t){return null!=t&&A(t.length)&&!T(t)}function I(t){return N(t)&&F(t)}function T(t){var e=K(t)?v.call(t):"";return e==o||e==i}function A(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=a}function K(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function N(t){return!!t&&"object"==typeof t}function D(t){return"symbol"==typeof t||N(t)&&v.call(t)==s}var E=C((function(t,e){return null==t?{}:x(t,p(j(e,1),k))}));t.exports=E}).call(this,n("c8ba"))},"8b8b":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"}},[n("a-row",{attrs:{gutter:48}},[n("a-col",{attrs:{md:8,sm:24}},[n("a-form-item",{attrs:{label:"角色ID"}},[n("a-input",{attrs:{placeholder:"请输入"}})],1)],1),n("a-col",{attrs:{md:8,sm:24}},[n("a-form-item",{attrs:{label:"状态"}},[n("a-select",{attrs:{placeholder:"请选择","default-value":"0"}},[n("a-select-option",{attrs:{value:"0"}},[t._v("全部")]),n("a-select-option",{attrs:{value:"1"}},[t._v("关闭")]),n("a-select-option",{attrs:{value:"2"}},[t._v("运行中")])],1)],1)],1),n("a-col",{attrs:{md:8,sm:24}},[n("span",{staticClass:"table-page-search-submitButtons"},[n("a-button",{attrs:{type:"primary"}},[t._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"}},[t._v("重置")])],1)])],1)],1)],1),n("s-table",{attrs:{"row-key":"id",size:"default",columns:t.columns,data:t.loadData,expandedRowKeys:t.expandedRowKeys},on:{expand:t.handleExpand},scopedSlots:t._u([{key:"expandedRowRender",fn:function(e){return n("div",{staticStyle:{margin:"0"}},[n("a-row",{style:{marginBottom:"12px"},attrs:{gutter:24}},t._l(e.permissions,(function(e,a){return n("a-col",{key:a,style:{marginBottom:"12px",height:"23px"},attrs:{span:12}},[n("a-col",{attrs:{lg:4,md:24}},[n("span",[t._v(t._s(e.permissionName)+"：")])]),e.actionList&&e.actionList.length>0?n("a-col",{attrs:{lg:20,md:24}},t._l(e.actionList,(function(e){return n("a-tag",{key:e,attrs:{color:"cyan"}},[t._v(t._s(t._f("permissionFilter")(e)))])})),1):n("a-col",{attrs:{span:20}},[t._v("-")])],1)})),1)],1)}},{key:"status",fn:function(e){return n("a-tag",{attrs:{color:"blue"}},[t._v(t._s(t._f("statusFilter")(e)))])}},{key:"createTime",fn:function(e){return n("span",{},[t._v(t._s(t._f("moment")(e)))])}},{key:"action",fn:function(e,a){return n("span",{},[n("a",{on:{click:function(e){return t.handleEdit(a)}}},[t._v("编辑")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-dropdown",[n("a",{staticClass:"ant-dropdown-link"},[t._v(" 更多 "),n("a-icon",{attrs:{type:"down"}})],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",[n("a",{attrs:{href:"javascript:;"}},[t._v("详情")])]),n("a-menu-item",[n("a",{attrs:{href:"javascript:;"}},[t._v("禁用")])]),n("a-menu-item",[n("a",{attrs:{href:"javascript:;"}},[t._v("删除")])])],1)],1)],1)}}])}),n("a-modal",{staticStyle:{top:"20px"},attrs:{title:"操作",width:800},on:{ok:t.handleOk},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[n("a-form",{staticClass:"permission-form",attrs:{form:t.form}},[n("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"唯一识别码",hasFeedback:"",validateStatus:"success"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["id"],expression:"['id']"}],attrs:{placeholder:"唯一识别码",disabled:"disabled"}})],1),n("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"角色名称",hasFeedback:"",validateStatus:"success"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name"],expression:"['name']"}],attrs:{placeholder:"起一个名字"}})],1),n("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"状态",hasFeedback:"",validateStatus:"warning"}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["status",{initialValue:1}],expression:"['status', { initialValue: 1 }]"}]},[n("a-select-option",{attrs:{value:1}},[t._v("正常")]),n("a-select-option",{attrs:{value:2}},[t._v("禁用")])],1)],1),n("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"描述",hasFeedback:""}},[n("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["describe"],expression:"['describe']"}],attrs:{rows:5,placeholder:"...",id:"describe"}})],1),n("a-divider",[t._v("拥有权限")]),t._l(t.permissions,(function(e){return[e.actionsOptions&&e.actionsOptions.length>0?n("a-form-item",{key:e.permissionId,staticClass:"permission-group",attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:e.permissionName}},[n("a-checkbox",[t._v("全选")]),n("a-checkbox-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["permissions."+e.permissionId],expression:"[`permissions.${permission.permissionId}`]"}],attrs:{options:e.actionsOptions}})],1):t._e()]}))],2)],1)],1)},r=[],o=n("5530"),i=(n("d81d"),n("4de4"),n("88bc")),s=n.n(i),l=n("2af9"),c=n("0fea"),u=n("45e8"),d={1:"启用",2:"禁用"},p=[{title:"唯一识别码",dataIndex:"id"},{title:"角色名称",dataIndex:"name"},{title:"状态",dataIndex:"status",scopedSlots:{customRender:"status"}},{title:"创建时间",dataIndex:"createTime",scopedSlots:{customRender:"createTime"},sorter:!0},{title:"操作",width:"150px",dataIndex:"action",scopedSlots:{customRender:"action"}}],f={name:"TableList",components:{STable:l["m"]},data:function(){var t=this;return{description:"列表使用场景：后台管理中的权限管理以及角色管理，可用于基于 RBAC 设计的角色权限控制，颗粒度细到每一个操作类型。",visible:!1,labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},form:this.$form.createForm(this),permissions:[],advanced:!1,queryParam:{},columns:p,loadData:function(e){return Object(c["k"])(e).then((function(e){return t.expandedRowKeys=e.result.data.map((function(t){return t.id})),e.result}))},expandedRowKeys:[],selectedRowKeys:[],selectedRows:[]}},filters:{statusFilter:function(t){return d[t]},permissionFilter:function(t){var e=u["a"][t];return e&&e.label}},created:function(){Object(c["k"])().then((function(t){}))},methods:{handleEdit:function(t){var e=this;this.visible=!0;var n={};this.permissions=t.permissions.map((function(t){var e="permissions.".concat(t.permissionId);n[e]=t.actionList;var a=t.actionEntitySet.map((function(t){return{label:t.describe,value:t.action,defaultCheck:t.defaultCheck}}));return Object(o["a"])(Object(o["a"])({},t),{},{actionsOptions:a})})),this.$nextTick((function(){e.form.setFieldsValue(s()(t,["id","status","describe","name"])),e.form.setFieldsValue(n)}))},handleOk:function(t){t.preventDefault(),this.form.validateFields((function(t,e){}))},onChange:function(t,e){this.selectedRowKeys=t,this.selectedRows=e},handleExpand:function(t,e){t?this.expandedRowKeys.push(e.id):this.expandedRowKeys=this.expandedRowKeys.filter((function(t){return e.id!==t}))},toggleAdvanced:function(){this.advanced=!this.advanced}},watch:{}},m=f,b=(n("3911"),n("2877")),v=Object(b["a"])(m,a,r,!1,null,"10b81b56",null);e["default"]=v.exports}}]);